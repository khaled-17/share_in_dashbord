# ูุธุงู ุงูุณูุฏุงุช ุงููุญุงุณุจูุฉ - ุฏููู ุดุงูู

## ๐ ูุธุฑุฉ ุนุงูุฉ

ุชู ุชุตููู ูุธุงู ุณูุฏุงุช ุงููุจุถ ูุงูุตุฑู ููููู ูุธุงูุงู ูุญุงุณุจูุงู ูุชูุงููุงู ูุฏุนู:
- **ุณูุฏุงุช ุงููุจุถ** (Receipt Vouchers): ูุชุณุฌูู ูู ุงูุฃููุงู ุงูุฏุงุฎูุฉ
- **ุณูุฏุงุช ุงูุตุฑู** (Payment Vouchers): ูุชุณุฌูู ูู ุงูุฃููุงู ุงูุฎุงุฑุฌุฉ
- **ุฅุฏุงุฑุฉ ุงูุดููุงุช**: ุชุชุจุน ูุงูู ูุจูุงูุงุช ุงูุดููุงุช ูุญุงูุชูุง
- **ุฅุฏุงุฑุฉ ุงูุดุฑูุงุก**: ูุชุงุจุนุฉ ุฑุฃุณ ุงููุงู ูุงููุณุญูุจุงุช

---

## ๐๏ธ ูููู ูุงุนุฏุฉ ุงูุจูุงูุงุช

### 1. ุฌุฏูู ุงูุดุฑูุงุก (Partners)
```prisma
model Partner {
  id                Int              // ุงููุนุฑู ุงููุฑูุฏ
  partner_code      String @unique   // ููุฏ ุงูุดุฑูู (ูุซู: P001)
  name              String           // ุงุณู ุงูุดุฑูู
  phone             String?          // ุฑูู ุงููุงุชู
  email             String?          // ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
  initial_capital   Float            // ุฑุฃุณ ุงููุงู ุงูุฃููู
  current_capital   Float            // ุฑุฃุณ ุงููุงู ุงูุญุงูู
  created_at        DateTime         // ุชุงุฑูุฎ ุงูุฅูุดุงุก
}
```

**ุงูุงุณุชุฎุฏุงู**:
- ุชุณุฌูู ุจูุงูุงุช ุงูุดุฑูุงุก ูู ุงููุดุฑูุน
- ูุชุงุจุนุฉ ุฑุฃุณ ุงููุงู ุงูุฃููู ูุงูุญุงูู
- ุฑุจุท ุฒูุงุฏุงุช ุฑุฃุณ ุงููุงู (ุณูุฏุงุช ูุจุถ) ูุงููุณุญูุจุงุช (ุณูุฏุงุช ุตุฑู)

---

### 2. ุณูุฏ ุงููุจุถ (Receipt Voucher)
```prisma
model ReceiptVoucher {
  id                Int              // ุงููุนุฑู ุงููุฑูุฏ
  voucher_number    String @unique   // ุฑูู ุงูุณูุฏ (ูุซู: RV-2024-001)
  voucher_date      String           // ุชุงุฑูุฎ ุงูุณูุฏ
  amount            Float            // ุงููุจูุบ
  
  // ููุน ุงููุตุฏุฑ
  source_type       String           // "customer" | "partner_capital" | "advance_payment" | "other"
  
  // ุงูุฌูุฉ ุงููุฑุชุจุทุฉ
  customer_id       String?          // ุฅุฐุง ูุงู ูู ุนููู
  partner_id        Int?             // ุฅุฐุง ูุงู ูู ุดุฑูู (ุฒูุงุฏุฉ ุฑุฃุณ ูุงู)
  
  // ุทุฑููุฉ ุงูุฏูุน
  payment_method    String           // "cash" | "check" | "bank_transfer"
  check_id          Int?             // ูุนุฑู ุงูุดูู (ุฅุฐุง ูุงูุช ุงูุทุฑููุฉ ุดูู)
  
  description       String?          // ูุตู/ููุงุญุธุงุช
  received_from     String           // ุงููุณุชูู ูู (ุงุณู ุงูุดุฎุต/ุงูุฌูุฉ)
  created_by        String?          // ุงููุณุชุฎุฏู ุงูุฐู ุฃูุดุฃ ุงูุณูุฏ
  created_at        DateTime         // ุชุงุฑูุฎ ุงูุฅูุดุงุก
}
```

**ุฃููุงุน ุงููุตุงุฏุฑ (source_type)**:
- `customer`: ุฏูุนุฉ ูู ุนููู (ููุงุจู ูุงุชูุฑุฉ ุฃู ุนุฑุถ ุณุนุฑ)
- `partner_capital`: ุฒูุงุฏุฉ ุฑุฃุณ ูุงู ูู ุดุฑูู
- `advance_payment`: ุฏูุนุฉ ููุฏูุฉ
- `other`: ูุตุงุฏุฑ ุฃุฎุฑู (ูุฌุจ ุชูุถูุญูุง ูู ุงููุตู)

**ุทุฑู ุงูุฏูุน (payment_method)**:
- `cash`: ููุฏู
- `check`: ุดูู (ูุชุทูุจ ููุก ุจูุงูุงุช ุงูุดูู)
- `bank_transfer`: ุชุญููู ุจููู

---

### 3. ุณูุฏ ุงูุตุฑู (Payment Voucher)
```prisma
model PaymentVoucher {
  id                Int              // ุงููุนุฑู ุงููุฑูุฏ
  voucher_number    String @unique   // ุฑูู ุงูุณูุฏ (ูุซู: PV-2024-001)
  voucher_date      String           // ุชุงุฑูุฎ ุงูุณูุฏ
  amount            Float            // ุงููุจูุบ
  
  // ููุน ุงููุณุชููุฏ
  beneficiary_type  String           // "supplier" | "employee" | "partner_withdrawal" | "admin_expense" | "other"
  
  // ุงูุฌูุฉ ุงููุฑุชุจุทุฉ
  supplier_id       String?          // ุฅุฐุง ูุงู ูููุฑุฏ
  employee_id       String?          // ุฅุฐุง ูุงู ูููุธู
  partner_id        Int?             // ุฅุฐุง ูุงู ูุณุญูุจุงุช ุดุฑูู
  expense_type_id   String?          // ุฅุฐุง ูุงู ูุตุฑูู ุฅุฏุงุฑู
  
  // ุทุฑููุฉ ุงูุฏูุน
  payment_method    String           // "cash" | "check" | "bank_transfer"
  check_id          Int?             // ูุนุฑู ุงูุดูู (ุฅุฐุง ูุงูุช ุงูุทุฑููุฉ ุดูู)
  
  description       String?          // ูุตู/ููุงุญุธุงุช
  paid_to           String           // ุงููุฏููุน ุฅูู (ุงุณู ุงูุดุฎุต/ุงูุฌูุฉ)
  created_by        String?          // ุงููุณุชุฎุฏู ุงูุฐู ุฃูุดุฃ ุงูุณูุฏ
  created_at        DateTime         // ุชุงุฑูุฎ ุงูุฅูุดุงุก
}
```

**ุฃููุงุน ุงููุณุชููุฏูู (beneficiary_type)**:
- `supplier`: ุฏูุน ูููุฑุฏ (ููุงุจู ูุงุชูุฑุฉ ุฃู ุฎุฏูุฉ)
- `employee`: ุฏูุน ูููุธู (ุฑุงุชุจุ ููุงูุฃุฉุ ุณููุฉ)
- `partner_withdrawal`: ูุณุญูุจุงุช ุดุฑูู
- `admin_expense`: ูุตุฑูู ุฅุฏุงุฑู (ุฅูุฌุงุฑุ ููุฑุจุงุกุ ููุงูุ ุฅูุฎ)
- `other`: ูุตุฑููุงุช ุฃุฎุฑู (ูุฌุจ ุชูุถูุญูุง ูู ุงููุตู)

---

### 4. ุจูุงูุงุช ุงูุดูู (Check Details)
```prisma
model CheckDetail {
  id                Int              // ุงููุนุฑู ุงููุฑูุฏ
  check_number      String           // ุฑูู ุงูุดูู
  bank_name         String           // ุงุณู ุงูุจูู
  check_date        String           // ุชุงุฑูุฎ ุงูุดูู
  beneficiary_name  String           // ุงุณู ุงููุณุชููุฏ
  amount            Float            // ูููุฉ ุงูุดูู
  status            String           // "pending" | "cleared" | "bounced" | "cancelled"
  notes             String?          // ููุงุญุธุงุช
  created_at        DateTime         // ุชุงุฑูุฎ ุงูุฅูุดุงุก
}
```

**ุญุงูุงุช ุงูุดูู (status)**:
- `pending`: ููุฏ ุงูุงูุชุธุงุฑ (ูู ูุชู ุตุฑูู ุจุนุฏ)
- `cleared`: ุชู ุงูุตุฑู ุจูุฌุงุญ
- `bounced`: ูุฑุชุฏ (ุฑุตูุฏ ุบูุฑ ูุงูู ุฃู ูุดููุฉ ูู ุงูุดูู)
- `cancelled`: ููุบู

---

## ๐ ุณููุงุฑูููุงุช ุงูุงุณุชุฎุฏุงู

### ุณููุงุฑูู 1: ุงุณุชูุงู ุฏูุนุฉ ูู ุนููู
```typescript
// ุฅูุดุงุก ุณูุฏ ูุจุถ
const receipt = {
  voucher_number: "RV-2024-001",
  voucher_date: "2024-12-21",
  amount: 50000,
  source_type: "customer",
  customer_id: "C00001",
  payment_method: "cash",
  received_from: "ุดุฑูุฉ ุงูููุฑ ููุชุฌุงุฑุฉ",
  description: "ุฏูุนุฉ ููุงุจู ุนุฑุถ ุงูุณุนุฑ QUO-0001"
};
```

### ุณููุงุฑูู 2: ุฒูุงุฏุฉ ุฑุฃุณ ูุงู ุดุฑูู ุจุดูู
```typescript
// ุฅูุดุงุก ุจูุงูุงุช ุงูุดูู ุฃููุงู
const check = {
  check_number: "123456",
  bank_name: "ุงูุจูู ุงูุฃููู ุงููุตุฑู",
  check_date: "2024-12-25",
  beneficiary_name: "ุงูุดุฑูุฉ ุงููุตุฑูุฉ ููุฅูุชุงุฌ",
  amount: 100000,
  status: "pending"
};

// ุฅูุดุงุก ุณูุฏ ุงููุจุถ
const receipt = {
  voucher_number: "RV-2024-002",
  voucher_date: "2024-12-21",
  amount: 100000,
  source_type: "partner_capital",
  partner_id: 1,
  payment_method: "check",
  check_id: check.id,
  received_from: "ุฃุญูุฏ ูุญูุฏ (ุดุฑูู)",
  description: "ุฒูุงุฏุฉ ุฑุฃุณ ุงููุงู"
};
```

### ุณููุงุฑูู 3: ุฏูุน ูููุฑุฏ
```typescript
const payment = {
  voucher_number: "PV-2024-001",
  voucher_date: "2024-12-21",
  amount: 30000,
  beneficiary_type: "supplier",
  supplier_id: "S001",
  payment_method: "cash",
  paid_to: "ุงููุตุฑูุฉ ููุฅุถุงุกุฉ",
  description: "ุฏูุนุฉ ููุงุจู ูุงุชูุฑุฉ ุฑูู INV-001"
};
```

### ุณููุงุฑูู 4: ูุณุญูุจุงุช ุดุฑูู
```typescript
const payment = {
  voucher_number: "PV-2024-002",
  voucher_date: "2024-12-21",
  amount: 20000,
  beneficiary_type: "partner_withdrawal",
  partner_id: 1,
  payment_method: "bank_transfer",
  paid_to: "ุฃุญูุฏ ูุญูุฏ",
  description: "ูุณุญูุจุงุช ุดูุฑ ุฏูุณูุจุฑ"
};
```

### ุณููุงุฑูู 5: ูุตุฑูู ุฅุฏุงุฑู
```typescript
const payment = {
  voucher_number: "PV-2024-003",
  voucher_date: "2024-12-21",
  amount: 5000,
  beneficiary_type: "admin_expense",
  expense_type_id: "EXP001", // ููุน ุงููุตุฑูู (ุฅูุฌุงุฑุ ููุฑุจุงุกุ ุฅูุฎ)
  payment_method: "cash",
  paid_to: "ููุชุจ ุงูุฅูุฌุงุฑุงุช",
  description: "ุฅูุฌุงุฑ ุงูููุชุจ - ุฏูุณูุจุฑ 2024"
};
```

---

## ๐ ุงูุชูุงุฑูุฑ ุงููุชุงุญุฉ

### 1. ุชูุฑูุฑ ุณูุฏุงุช ุงููุจุถ
- ุฅุฌูุงูู ุงูููุจูุถุงุช ุญุณุจ ุงููุชุฑุฉ
- ุชุตููู ุญุณุจ ููุน ุงููุตุฏุฑ
- ุชุตููู ุญุณุจ ุทุฑููุฉ ุงูุฏูุน
- ุงูุดููุงุช ููุฏ ุงูุงูุชุธุงุฑ

### 2. ุชูุฑูุฑ ุณูุฏุงุช ุงูุตุฑู
- ุฅุฌูุงูู ุงููุฏููุนุงุช ุญุณุจ ุงููุชุฑุฉ
- ุชุตููู ุญุณุจ ููุน ุงููุณุชููุฏ
- ุชุตููู ุญุณุจ ุทุฑููุฉ ุงูุฏูุน
- ุงูุดููุงุช ุงูุตุงุฏุฑุฉ

### 3. ุชูุฑูุฑ ุงูุดููุงุช
- ุงูุดููุงุช ููุฏ ุงูุงูุชุธุงุฑ
- ุงูุดููุงุช ุงููุตุฑููุฉ
- ุงูุดููุงุช ุงููุฑุชุฏุฉ
- ุงูุดููุงุช ุงูููุบุงุฉ

### 4. ุชูุฑูุฑ ุงูุดุฑูุงุก
- ุฑุฃุณ ุงููุงู ุงูุฃููู ูุงูุญุงูู ููู ุดุฑูู
- ุฅุฌูุงูู ุงูุฒูุงุฏุงุช ูู ุฑุฃุณ ุงููุงู
- ุฅุฌูุงูู ุงููุณุญูุจุงุช
- ุตุงูู ุฑุฃุณ ุงููุงู

---

## ๐จ ุชุตููู ุงููุงุฌูุฉ ุงูููุชุฑุญ

### ุตูุญุฉ ุณูุฏุงุช ุงููุจุถ
- **ูุงุฆูุฉ ุงูุณูุฏุงุช**: ุฌุฏูู ูุนุฑุถ ุฌููุน ุณูุฏุงุช ุงููุจุถ
- **ููุงุชุฑ**: ุญุณุจ ุงูุชุงุฑูุฎุ ููุน ุงููุตุฏุฑุ ุทุฑููุฉ ุงูุฏูุน
- **ุฒุฑ ุฅุถุงูุฉ ุณูุฏ ุฌุฏูุฏ**: ููุชุญ ูุงูุฐุฉ ููุจุซูุฉ (Modal) ุฃู Drawer

### ุตูุญุฉ ุณูุฏุงุช ุงูุตุฑู
- **ูุงุฆูุฉ ุงูุณูุฏุงุช**: ุฌุฏูู ูุนุฑุถ ุฌููุน ุณูุฏุงุช ุงูุตุฑู
- **ููุงุชุฑ**: ุญุณุจ ุงูุชุงุฑูุฎุ ููุน ุงููุณุชููุฏุ ุทุฑููุฉ ุงูุฏูุน
- **ุฒุฑ ุฅุถุงูุฉ ุณูุฏ ุฌุฏูุฏ**: ููุชุญ ูุงูุฐุฉ ููุจุซูุฉ (Modal) ุฃู Drawer

### ุตูุญุฉ ุงูุดููุงุช
- **ุชุจููุจุงุช (Tabs)**:
  - ููุฏ ุงูุงูุชุธุงุฑ
  - ุงููุตุฑููุฉ
  - ุงููุฑุชุฏุฉ
  - ุงูููุบุงุฉ
- **ุฅููุงููุฉ ุชุญุฏูุซ ุญุงูุฉ ุงูุดูู**

### ุตูุญุฉ ุงูุดุฑูุงุก
- **ูุงุฆูุฉ ุงูุดุฑูุงุก**: ุฌุฏูู ูุนุฑุถ ุจูุงูุงุช ุงูุดุฑูุงุก ูุฑุฃุณ ุงููุงู
- **ุชูุงุตูู ุงูุดุฑูู**: ุตูุญุฉ ุชุนุฑุถ:
  - ุงูุจูุงูุงุช ุงูุฃุณุงุณูุฉ
  - ุณุฌู ุฒูุงุฏุงุช ุฑุฃุณ ุงููุงู
  - ุณุฌู ุงููุณุญูุจุงุช
  - ุงูุฑุตูุฏ ุงูุญุงูู

---

## ๐ ููุงุนุฏ ุงูุนูู (Business Rules)

1. **ุฑูู ุงูุณูุฏ ูุฌุจ ุฃู ูููู ูุฑูุฏุงู** ููููุถู ุฃู ูููู ุชููุงุฆูุงู (ูุซู: RV-2024-001)
2. **ุนูุฏ ุงุฎุชูุงุฑ ุทุฑููุฉ ุงูุฏูุน "ุดูู"**ุ ูุฌุจ ููุก ุฌููุน ุจูุงูุงุช ุงูุดูู
3. **ุนูุฏ ุฅูุดุงุก ุณูุฏ ูุจุถ ูู ุดุฑูู**ุ ูุฌุจ ุชุญุฏูุซ `current_capital` ููุดุฑูู
4. **ุนูุฏ ุฅูุดุงุก ุณูุฏ ุตุฑู ููุณุญูุจุงุช ุดุฑูู**ุ ูุฌุจ ุฎุตู ุงููุจูุบ ูู `current_capital`
5. **ูุง ูููู ุญุฐู ุณูุฏ ูุฑุชุจุท ุจุดูู** ุฅูุง ุจุนุฏ ุฅูุบุงุก ุงูุดูู ุฃููุงู
6. **ูุฌุจ ุงูุชุญูู ูู ุฃู ุงููุจูุบ ููุฌุจ** ูู ุฌููุน ุงูุญุงูุงุช

---

## ๐ ุงูุฎุทูุงุช ุงูุชุงููุฉ ููุชุทููุฑ

1. โ **ุชุตููู ูุงุนุฏุฉ ุงูุจูุงูุงุช** (ุชู)
2. ๐ **ุฅูุดุงุก API Endpoints**:
   - `/api/partners` (CRUD ููุดุฑูุงุก)
   - `/api/receipt-vouchers` (CRUD ูุณูุฏุงุช ุงููุจุถ)
   - `/api/payment-vouchers` (CRUD ูุณูุฏุงุช ุงูุตุฑู)
   - `/api/checks` (CRUD ููุดููุงุช)
3. ๐ **ุฅูุดุงุก ุงููุงุฌูุงุช ุงูุฃูุงููุฉ**:
   - ุตูุญุฉ ุงูุดุฑูุงุก
   - ุตูุญุฉ ุณูุฏุงุช ุงููุจุถ
   - ุตูุญุฉ ุณูุฏุงุช ุงูุตุฑู
   - ุตูุญุฉ ุงูุดููุงุช
4. ๐ **ุงูุชูุงุฑูุฑ ูุงูุฅุญุตุงุฆูุงุช**:
   - Dashboard ููุณูุฏุงุช
   - ุชูุงุฑูุฑ ูุงููุฉ ุดุงููุฉ

---

## ๐ ููุงุญุธุงุช ูููุฉ

- **ุงูุชูุงูู ูุน ุงููุธุงู ุงูุญุงูู**: ุงูุณูุฏุงุช ุชูููู ูุธุงู ุงูุฅูุฑุงุฏุงุช ูุงููุตุฑููุงุช ุงูููุฌูุฏุ ููุง ุชุณุชุจุฏูู
- **ุงููุฑููุฉ**: ูููู ุฅุถุงูุฉ ุฃููุงุน ุฌุฏูุฏุฉ ูู ุงููุตุงุฏุฑ ูุงููุณุชููุฏูู ุญุณุจ ุงูุญุงุฌุฉ
- **ุงูุฃูุงู**: ูุฌุจ ุชุณุฌูู ุงููุณุชุฎุฏู ุงูุฐู ุฃูุดุฃ ูู ุณูุฏ (created_by)
- **ุงูุชุฏููู**: ูููุถู ุนุฏู ุงูุณูุงุญ ุจุญุฐู ุงูุณูุฏุงุชุ ุจู ุฅูุบุงุคูุง ููุท ูุน ุงูุงุญุชูุงุธ ุจุงูุณุฌู

---

ุชู ุฅูุดุงุก ูุฐุง ุงูุชูุซูู ูู: 2024-12-21
ุ